<!DOCTYPE html>
<html>
<head>
    <title>Force Refresh Contact Data</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .step { margin: 20px 0; padding: 15px; border: 1px solid #ccc; background: #f9f9f9; }
        button { padding: 10px 20px; margin: 10px 0; cursor: pointer; background: #007bff; color: white; border: none; border-radius: 5px; }
        .success { color: green; font-weight: bold; }
        .error { color: red; font-weight: bold; }
    </style>
</head>
<body>
    <h1>üîß Forzar Actualizaci√≥n de Datos de Contacto</h1>
    
    <div class="step">
        <h3>Paso 1: Limpiar Datos Antiguos</h3>
        <button onclick="clearOldData()">Limpiar localStorage</button>
        <div id="clearStatus"></div>
    </div>
    
    <div class="step">
        <h3>Paso 2: Establecer Nuevos Datos</h3>
        <input type="text" id="phoneInput" placeholder="+56912345678" value="+56912345678" style="padding: 8px; margin: 5px;">
        <button onclick="setNewData()">Establecer Nuevo N√∫mero</button>
        <div id="setStatus"></div>
    </div>
    
    <div class="step">
        <h3>Paso 3: Verificar Cambios</h3>
        <button onclick="verifyData()">Verificar Datos Actuales</button>
        <div id="verifyStatus"></div>
    </div>
    
    <div class="step">
        <h3>Paso 4: Recargar P√°gina Principal</h3>
        <button onclick="reloadMain()">Ir a P√°gina Principal</button>
    </div>

    <script>
        function clearOldData() {
            localStorage.clear();
            sessionStorage.clear();
            document.getElementById('clearStatus').innerHTML = '<p class="success">‚úÖ Todos los datos locales eliminados</p>';
        }
        
        function setNewData() {
            const phone = document.getElementById('phoneInput').value || '+56912345678';
            
            const newContactData = {
                phone: phone,
                email: 'contacto@motorsale.cl',
                whatsapp: phone,
                address: 'Av. Buin 1234',
                city: 'Buin',
                region: 'Regi√≥n Metropolitana',
                country: 'Chile',
                businessHours: {
                    monday: { open: '09:00', close: '18:00' },
                    tuesday: { open: '09:00', close: '18:00' },
                    wednesday: { open: '09:00', close: '18:00' },
                    thursday: { open: '09:00', close: '18:00' },
                    friday: { open: '09:00', close: '18:00' },
                    saturday: { open: '09:00', close: '14:00' },
                    sunday: { open: '10:00', close: '14:00', closed: true }
                },
                socialMedia: {
                    facebook: 'https://facebook.com/motorsale',
                    instagram: 'https://instagram.com/motorsale'
                },
                companyName: 'Motor Sale',
                companyDescription: 'Tu concesionaria de confianza en Buin.',
                metaTitle: 'Motor Sale - Compra y Venta de Veh√≠culos en Buin',
                metaDescription: 'Encuentra el auto perfecto en Motor Sale.',
                updatedAt: new Date().toISOString()
            };
            
            localStorage.setItem('motorsale_contact_info', JSON.stringify(newContactData));
            
            // Forzar evento de actualizaci√≥n
            window.dispatchEvent(new StorageEvent('storage', {
                key: 'motorsale_contact_info',
                newValue: JSON.stringify(newContactData),
                oldValue: null,
                storageArea: localStorage
            }));
            
            document.getElementById('setStatus').innerHTML = `<p class="success">‚úÖ Nuevos datos establecidos con n√∫mero: ${phone}</p>`;
        }
        
        function verifyData() {
            const contact = localStorage.getItem('motorsale_contact_info');
            if (contact) {
                const data = JSON.parse(contact);
                document.getElementById('verifyStatus').innerHTML = `
                    <p class="success">‚úÖ Datos verificados:</p>
                    <ul>
                        <li><strong>Tel√©fono:</strong> ${data.phone}</li>
                        <li><strong>WhatsApp:</strong> ${data.whatsapp}</li>
                        <li><strong>Email:</strong> ${data.email}</li>
                        <li><strong>Actualizado:</strong> ${new Date(data.updatedAt).toLocaleString()}</li>
                    </ul>
                `;
            } else {
                document.getElementById('verifyStatus').innerHTML = '<p class="error">‚ùå No se encontraron datos</p>';
            }
        }
        
        function reloadMain() {
            window.open('http://localhost:5176/', '_blank');
        }
        
        // Auto-verificar al cargar
        window.onload = function() {
            verifyData();
        }
    </script>
</body>
</html>
